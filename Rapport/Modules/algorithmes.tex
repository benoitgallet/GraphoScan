\subsection{Parallélisation OpenMP}
Afin de pouvoir faire de l'acquisition vidéo en simultané sur plusieurs caméras tout en gardant le plus possible d'images par secondes, nous avons opté pour une parallélisation de l'algorithme d'acquisition grâce à OpenMP. Ainsi nous affectons - dans la mesure du possible - une caméra à un thread en lançant la région parallèle de cette sorte :
\begin{verbatim}
#pragma omp parallel num_threads(numCameras)
\end{verbatim}
Avec \texttt{numCameras} le nombre de caméras détectées. \\
Juste avant de commencer la capture, nous posons une barrière à l'aide de 
\begin{verbatim}
#pragma omp barrier
\end{verbatim}
dans le but de déclencher les caméras le plus en même temps possible.
À l'intérieur de la boucle d'acquisition, une nouvelle barrière est mise avant chaque récupération du buffer de la caméra.
Dans le cas où l'utilisateur souhaite faire un affichage de la capture qu'il est en train d'effectuer, un des threads est choisi via
\begin{verbatim}
#pragma omp single
\end{verbatim}
afin de s'occuper du dit affichage.
Enfin, chaque thread écrit la frame dans la vidéo correspondante à la caméra affectée au thread.

\subsection{Export des paramètres de la caméra}

La récupération des paramètres de la caméra, calculés via MatLab, va nous permettre de faire l'undistortion et la reconstruction 3D. Jusqu'à présent, ces paramètres étaient rentrés en dur dans les programmes, nous avons donc décidé de faire des imports/exports de ces données pour plus de simplicité et de réutilisabilité.
Pour ce faire, une fois les paramètres de calibration calculés dans MatLab , on récupère un objet CameraParameters par caméra. Afin de générer les fichiers de configuration nécessaires, il suffit de rentrer deux commandes par caméra :

\begin{verbatim}
	dlmwrite( 													  \
	'*PATH_TO_ACQUISITION*/Calib_camera_*NUM_CAMERA*_Matlab.txt', \
	camera*NUM_CAMERA*.IntrinsicMatrix,'delimiter', ' ',		  \
	'precision', 5)
	dlmwrite(													  \
	'*PATH_TO_ACQUISITION*/Calib_camera_*NUM_CAMERA*_Matlab.txt', \
	horzcat(camera*NUM_CAMERA*.RadialDistorsion,				  \
	camera*NUM_CAMERA*.TangentialDistorsion),					  \
	'-append', 'delimiter', ' ', 'precision',5)
\end{verbatim}

Il faut remplacer $*NUM_CAMERA*$ par le nom de l'objet de la caméra correspondante.